<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>Woof - Social Network for Dogs & Pets | Share Your Pet's Adventures</title>
    <meta name="title" content="Woof - Social Network for Dogs & Pets | Share Your Pet's Adventures">
    <meta name="description" content="Join Woof, the social network where dogs connect! Share adorable pet photos, discover local dog friends, explore dog-friendly places, and build your pet's social circle. Instagram for dogs.">
    <meta name="keywords" content="dog social network, pet instagram, dog photos, pet community, dog friends, puppy social media, dog profile, pet sharing">
    <meta name="author" content="Woof">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://woofapp.fi/">
    <meta property="og:title" content="Woof - Social Network for Dogs & Pets">
    <meta property="og:description" content="Join Woof, the social network where dogs connect! Share adorable pet photos, discover local dog friends, and build your pet's social circle.">
    <meta property="og:image" content="https://woofapp.fi/assets/images/logo.png">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <header>
            <div class="header-content">
                <a href="/" data-link class="logo">
                    <img src="/assets/images/logo.png" alt="Woof Logo">
                </a>
                <div class="header-icons">
                    <a href="#" id="desktop-search-button" aria-label="Search"><i class="fas fa-search"></i></a>
                    <a href="#" class="auth-link" aria-label="Login">Login</a>
                </div>
            </div>
        </header>

        <div class="main-container">
            <nav class="left-panel">
                <ul id="nav-links">
                    <li><a href="/" data-link><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="#" id="create-post-link"><i class="fas fa-plus-square"></i> Create</a></li>
                    <li id="messages-nav-item" style="display: none;">
                        <a href="/messages" data-link><i class="fas fa-envelope"></i> Messages <span class="nav-badge" id="messages-badge" style="display: none;">0</span></a>
                    </li>
                    <li id="profile-nav-item">
                        <!-- Profile link will be rendered dynamically based on auth state -->
                    </li>
                </ul>
            </nav>

            <!-- SPA Content Container -->
            <div id="app" class="content">
                <!-- Views will be rendered here by ViewManager -->
                <div class="post-skeleton" aria-hidden="true">
                    <div class="post-header-skeleton">
                        <div class="skeleton skeleton-circle"></div>
                        <div class="skeleton skeleton-text"></div>
                    </div>
                    <div class="skeleton skeleton-image"></div>
                    <div class="post-actions-skeleton">
                        <div class="skeleton skeleton-text"></div>
                    </div>
                </div>
                <div class="post-skeleton" aria-hidden="true">
                    <div class="post-header-skeleton">
                        <div class="skeleton skeleton-circle"></div>
                        <div class="skeleton skeleton-text"></div>
                    </div>
                    <div class="skeleton skeleton-image"></div>
                    <div class="post-actions-skeleton">
                        <div class="skeleton skeleton-text"></div>
                    </div>
                </div>
                <div class="post-skeleton" aria-hidden="true">
                    <div class="post-header-skeleton">
                        <div class="skeleton skeleton-circle"></div>
                        <div class="skeleton skeleton-text"></div>
                    </div>
                    <div class="skeleton skeleton-image"></div>
                    <div class="post-actions-skeleton">
                        <div class="skeleton skeleton-text"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Bottom Navigation -->
    <nav class="bottom-nav" aria-label="Mobile navigation">
        <a href="/" data-link id="bottom-nav-home" class="bottom-nav-item active">
            <i class="fas fa-home"></i>
        </a>
        <a href="#" id="bottom-nav-search" class="bottom-nav-item">
            <i class="fas fa-search"></i>
        </a>
        <a href="#" id="create-post-link-mobile" class="bottom-nav-item">
            <i class="fas fa-plus-square"></i>
        </a>
        <a href="/messages" data-link id="bottom-nav-messages" class="bottom-nav-item" style="display: none;">
            <i class="fas fa-envelope"></i>
            <span class="bottom-nav-badge" id="bottom-messages-badge" style="display: none;">0</span>
        </a>
        <a href="#" id="bottom-nav-profile" class="bottom-nav-item">
            <i class="fas fa-user-circle"></i>
        </a>
    </nav>

    <!-- Search Panel -->
    <div id="search-panel" class="search-panel">
        <div class="search-bar">
            <div class="search-input-wrapper">
                <i class="fas fa-search search-input-icon"></i>
                <input type="text" id="mobile-search-input" placeholder="Search" autocomplete="off">
            </div>
            <button class="close-search" aria-label="Close search">Cancel</button>
        </div>
        <ul id="search-results" class="search-results"></ul>
    </div>

    <!-- Create Post Modal -->
    <div id="create-post-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Create Post</h2>
                <button class="modal-close" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="create-post-form">
                    <div class="form-group">
                        <label for="post-dog-select">Select Dog</label>
                        <select id="post-dog-select" name="post-dog-select" required>
                            <option value="">Choose a dog...</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="post-image">Image</label>
                        <input type="file" id="post-image" name="post-image" accept="image/*" required>
                        <div id="image-preview" class="image-preview"></div>
                    </div>
                    <div class="form-group">
                        <label for="post-caption">Caption (optional)</label>
                        <textarea id="post-caption" name="post-caption" rows="3" maxlength="500"></textarea>
                    </div>
                    <button type="submit" class="btn-primary">Post</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="auth-modal-title">Login</h2>
                <button class="modal-close" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body">
                <div id="auth-tabs" class="auth-tabs">
                    <button class="auth-tab active" data-tab="login">Login</button>
                    <button class="auth-tab" data-tab="register">Register</button>
                </div>
                <form id="auth-form">
                    <div class="form-group">
                        <label for="auth-email">Email</label>
                        <input type="email" id="auth-email" required>
                    </div>
                    <div class="form-group">
                        <label for="auth-password">Password</label>
                        <input type="password" id="auth-password" required>
                        <ul id="password-requirements" class="password-requirements" style="display: none;" aria-live="polite">
                            <li id="req-length">At least 8 characters</li>
                            <li id="req-uppercase">An uppercase letter</li>
                            <li id="req-lowercase">A lowercase letter</li>
                            <li id="req-number">A number</li>
                        </ul>
                    </div>
                    <div class="form-group" id="auth-name-group" style="display: none;">
                        <label for="auth-name">Name</label>
                        <input type="text" id="auth-name">
                    </div>
                    <button type="submit" class="btn-primary" id="auth-submit">Sign In</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Create Dog Modal -->
    <div id="create-dog-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add a Pet</h2>
                <button class="modal-close" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="create-dog-form">
                    <div class="form-group">
                        <label for="dog-name">Name *</label>
                        <input type="text" id="dog-name" required maxlength="50">
                    </div>
                    <div class="form-group">
                        <label for="dog-breed">Breed *</label>
                        <input type="text" id="dog-breed" required maxlength="50">
                    </div>
                    <div class="form-group">
                        <label for="dog-age">Age *</label>
                        <input type="number" id="dog-age" required min="0" max="30" step="1">
                    </div>
                    <div class="form-group">
                        <label for="dog-location">Location (optional)</label>
                        <input type="text" id="dog-location" maxlength="100" placeholder="e.g., Helsinki, Finland">
                    </div>
                    <div class="form-group">
                        <label for="dog-bio">Bio (optional)</label>
                        <textarea id="dog-bio" rows="3" maxlength="500" placeholder="Tell us about your dog..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="dog-photo">Profile Photo *</label>
                        <input type="file" id="dog-photo" accept="image/*" required>
                        <div id="dog-photo-preview" class="image-preview"></div>
                    </div>
                    <button type="submit" class="btn-primary">Add Pet</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Edit Dog Modal -->
    <div id="edit-dog-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Profile</h2>
                <button class="modal-close" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="edit-dog-form">
                    <input type="hidden" id="edit-dog-id">
                    <div class="form-group">
                        <label for="edit-dog-name">Name *</label>
                        <input type="text" id="edit-dog-name" required maxlength="50">
                    </div>
                    <div class="form-group">
                        <label for="edit-dog-breed">Breed *</label>
                        <input type="text" id="edit-dog-breed" required maxlength="50">
                    </div>
                    <div class="form-group">
                        <label for="edit-dog-age">Age *</label>
                        <input type="number" id="edit-dog-age" required min="0" max="30" step="1">
                    </div>
                    <div class="form-group">
                        <label for="edit-dog-location">Location</label>
                        <input type="text" id="edit-dog-location" maxlength="100" placeholder="e.g., Helsinki, Finland">
                    </div>
                    <div class="form-group">
                        <label for="edit-dog-bio">Bio</label>
                        <textarea id="edit-dog-bio" rows="3" maxlength="500" placeholder="Tell us about your dog..."></textarea>
                    </div>
                    <div class="form-group">
                        <label for="edit-dog-photo">Change Profile Photo</label>
                        <input type="file" id="edit-dog-photo" accept="image/*">
                        <div id="edit-dog-photo-preview" class="image-preview"></div>
                    </div>
                    <button type="submit" class="btn-primary">Save Changes</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Health Record Modal -->
    <div id="health-record-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Health Record</h2>
                <button class="modal-close" aria-label="Close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="health-record-form">
                    <div class="form-group">
                        <label for="health-record-type">Type *</label>
                        <select id="health-record-type" required>
                            <option value="vet_visit">Vet Visit</option>
                            <option value="vaccination">Vaccination</option>
                            <option value="medication">Medication</option>
                            <option value="weight">Weight</option>
                            <option value="note">Note</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="health-record-date">Date *</label>
                        <input type="date" id="health-record-date" required>
                    </div>
                    <div class="form-group">
                        <label for="health-record-description">Description *</label>
                        <input type="text" id="health-record-description" required maxlength="1000" placeholder="e.g., Annual check-up, Rabies vaccine">
                    </div>
                    <div class="form-group" id="health-record-value-group" style="display: none;">
                        <label for="health-record-value">Weight (kg)</label>
                        <input type="number" id="health-record-value" min="0.1" max="200" step="0.1" placeholder="e.g., 25.5">
                    </div>
                    <div class="form-group">
                        <label for="health-record-notes">Notes (optional)</label>
                        <textarea id="health-record-notes" rows="3" maxlength="2000" placeholder="Additional details..."></textarea>
                    </div>
                    <button type="submit" class="btn-primary">Add Record</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Main App Script - SPA Version -->
    <script type="module" src="/js/app-spa.js"></script>
</body>
</html>
